(this.webpackJsonpinterleave_testnet_frontend=this.webpackJsonpinterleave_testnet_frontend||[]).push([[0],{199:function(e,t,n){},250:function(e,t){},251:function(e,t){},444:function(e,t){},446:function(e,t){},480:function(e,t,n){"use strict";n.r(t);var c=n(10),a=n.n(c),s=n(193),i=n.n(s),o=(n(199),n(23)),r=n.n(o),l=n(50),u=n(69),d=n.p+"static/media/Neptunus Text Right 1.7e349a79.png",j=n(0),O=function(e){var t=e.publicKey;return Object(j.jsxs)("header",{children:[Object(j.jsx)("img",{src:d,height:"45",alt:"",className:"logo"}),t&&Object(j.jsx)("button",{className:"account",children:t})]})},m=n(6),p=[{code:"XLM",issuer:"GAZDAUCRI3E7APVYGOPLLS6CMMCCXTUZ6ZKWPOS2EMOOGIGOIQWHWYTQ"},{code:"LSP",issuer:"GAZDAUCRI3E7APVYGOPLLS6CMMCCXTUZ6ZKWPOS2EMOOGIGOIQWHWYTQ"},{code:"AQUA",issuer:"GAZDAUCRI3E7APVYGOPLLS6CMMCCXTUZ6ZKWPOS2EMOOGIGOIQWHWYTQ"},{code:"TERN",issuer:"GAZDAUCRI3E7APVYGOPLLS6CMMCCXTUZ6ZKWPOS2EMOOGIGOIQWHWYTQ"},{code:"USDC",issuer:"GAZDAUCRI3E7APVYGOPLLS6CMMCCXTUZ6ZKWPOS2EMOOGIGOIQWHWYTQ"},{code:"YBX",issuer:"GAZDAUCRI3E7APVYGOPLLS6CMMCCXTUZ6ZKWPOS2EMOOGIGOIQWHWYTQ"}],b=function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("option",{value:"".concat(e.code,"_").concat(e.issuer),children:e.code})})},f=function(e){var t=e.notificationContent,n=e.notificationColor,a=e.closeNotification;return Object(c.useEffect)((function(){setTimeout((function(){a()}),1e4)})),console.log(n),Object(j.jsx)("div",{className:"notification",style:{backgroundColor:n},children:Object(j.jsx)("div",{className:"notification-content",children:t})})},v=function(e){var t=e.state,n=e.handleSubmit,c=e.handleChange,a=e.loginFreighter,s=e.closeNotification,i=t.publicKey,o=t.amountSend,r=t.amountReceive,l=t.slippage,u=t.isNotificationOpen,d=t.notificationContent,O=t.notificationColor;return Object(j.jsx)("section",{children:Object(j.jsx)("div",{className:"section-center",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"transaction-form",children:[Object(j.jsx)("div",{className:"form-header",children:Object(j.jsx)("h1",{children:"Swap Asset"})}),u&&Object(j.jsx)(f,{notificationColor:O,notificationContent:d,closeNotification:s}),Object(j.jsxs)("form",{onSubmit:n,children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-sm-7",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("span",{className:"form-label",children:"Amount Send"}),Object(j.jsx)("input",{type:"number",step:1e-7,id:"amountSend",name:"amountSend",value:o,onChange:c,placeholder:"0.0000000",className:"form-control"})]})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("span",{className:"form-label",children:"Asset Send"}),Object(j.jsxs)("select",{name:"assetSend",onChange:c,className:"form-control",children:[Object(j.jsx)("option",{value:"",children:"Select Asset Type"}),p.map((function(e){return Object(j.jsx)(b,Object(m.a)({},e),e.code)}))]}),Object(j.jsx)("span",{className:"select-arrow"})]})})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-sm-7",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("span",{className:"form-label",children:"Estimated Amount Receive"}),Object(j.jsx)("input",{type:"number",step:1e-7,id:"amountReceive",name:"amountReceive",value:r,placeholder:"Estimate From Amount Send",className:"form-control",readOnly:!0})]})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("span",{className:"form-label",children:"Asset Receive"}),Object(j.jsxs)("select",{name:"assetReceive",onChange:c,className:"form-control",children:[Object(j.jsx)("option",{value:"",children:"Select Asset Type"}),p.map((function(e){return Object(j.jsx)(b,Object(m.a)({},e),e.code)}))]}),Object(j.jsx)("span",{className:"select-arrow"})]})})]}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-sm-5 m-auto",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("span",{className:"form-label",children:"Slippage Tolerance"}),Object(j.jsx)("input",{type:"number",step:.01,id:"slippage",name:"slippage",value:l,onChange:c,placeholder:"value between 0-1 (default 0.1)",max:"1.00",min:"0.00",className:"form-control"})]})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"form-btn",children:i?Object(j.jsx)("button",{type:"submit",className:"submit-btn",children:"submit"}):Object(j.jsx)("button",{onClick:a,className:"submit-btn",children:"login"})})})]})]})})})})})},h=n(49),x=function(e,t){if("SUCCESS_SUBMIT_XDR"===t.type)return Object(m.a)(Object(m.a)({},e),{},{isNotificationOpen:!0,notificationContent:"Transaction Success",notificationColor:"#2eb94c"});if("CANNOT_SUBMIT_XDR"===t.type)return Object(m.a)(Object(m.a)({},e),{},{isNotificationOpen:!0,notificationContent:"Transaction Failed",notificationColor:"#ec5f0d"});if("NO_VALUE"===t.type)return Object(m.a)(Object(m.a)({},e),{},{isNotificationOpen:!0,notificationContent:"Please Enter Amount Send, Asset Send, and Asset Receive",notificationColor:"#ec5f0d"});if("CHANGE_VALUE"===t.type){var n=t.payload,c=n.name,a=n.value;if("assetSend"===c||"assetReceive"===c){var s=a.split("_"),i=Object(u.a)(s,2),o=i[0],r=i[1];return Object(m.a)(Object(m.a)({},e),{},Object(h.a)({},c,{code:o,issuer:r}))}return Object(m.a)(Object(m.a)({},e),{},Object(h.a)({},c,a))}return"ERROR_FETCH"===t.type?Object(m.a)(Object(m.a)({},e),{},{isNotificationOpen:!0,notificationContent:"Error Retrieve Data",notificationColor:"#ec5f0d"}):"CLOSE_NOTIFICATION"===t.type?Object(m.a)(Object(m.a)({},e),{},{isNotificationOpen:!1,notificationContent:null,notificationColor:null}):void 0},C={publicKey:null,assetSend:null,assetReceive:null,amountSend:"",amountReceive:"",slippage:"",xdr:null,isNotificationOpen:!1,notificationContent:null,notificationColor:null},N=n(194),S=n.n(N),_=n(103),g=n(104),A=n.n(g);var y=function(){var e=Object(c.useReducer)(x,C),t=Object(u.a)(e,2),n=t[0],s=t[1],i=n.publicKey,o=n.assetSend,d=n.assetReceive,m=n.amountSend,p=n.amountReceive,b=n.slippage,f=function(){var e=Object(l.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get(t);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),s({type:"ERROR_FETCH"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(r.a.mark((function e(t){var n,c,a,i,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t);case 3:return n=e.sent,c=n.xdr,e.next=7,Object(_.signTransaction)(c,"TESTNET");case 7:return c=e.sent,a="https://horizon-testnet.stellar.org",i=new A.a.Server(a),o=A.a.TransactionBuilder.fromXDR(c,a),e.next=13,i.submitTransaction(o);case 13:l=e.sent,console.log(l),s({type:"SUCCESS_SUBMIT_XDR"}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),s({type:"CANNOT_SUBMIT_XDR"});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n="",e.prev=2,e.next=5,Object(_.getPublicKey)();case 5:t=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),n=e.t0;case 11:if(!n){e.next=13;break}return e.abrupt("return",n);case 13:"publicKey",s({type:"CHANGE_VALUE",payload:{name:"publicKey",value:t}});case 16:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="amountReceive",e.next=3,f(t).then((function(e){return e.amount_receive}));case 3:c=e.sent,s({type:"CHANGE_VALUE",payload:{name:n,value:c}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(m&&o&&d){var e="https://wy6y1k.deta.dev/fetch_amount_receive?",t=[];t[0]="asset_send_code=".concat(o.code,"&"),t[1]="asset_send_issuer=".concat(o.issuer,"&"),t[2]="asset_receive_code=".concat(d.code,"&"),t[3]="asset_receive_issuer=".concat(d.issuer,"&"),t[4]="amount_send=".concat(m),t.forEach((function(t){e+=t})),g(e);var n=setInterval((function(){g(e)}),1e4);return function(){return clearInterval(n)}}if(!m){s({type:"CHANGE_VALUE",payload:{name:"amountReceive",value:""}})}}),[m,o,d]),Object(j.jsxs)(a.a.Fragment,{children:[Object(j.jsx)(O,{publicKey:i}),Object(j.jsx)(v,{state:n,handleSubmit:function(e){if(e.preventDefault(),i&&o&&d&&m&&p&&b){var t="https://wy6y1k.deta.dev/fetch_xdr?",n=[];n[0]="public_key=".concat(i,"&"),n[1]="asset_send_code=".concat(o.code,"&"),n[2]="asset_send_issuer=".concat(o.issuer,"&"),n[3]="asset_receive_code=".concat(d.code,"&"),n[4]="asset_receive_issuer=".concat(d.issuer,"&"),n[5]="amount_send=".concat(m,"&"),n[6]="slippage=".concat(b),n.forEach((function(e){t+=e})),h(t)}else i&&s({type:"NO_VALUE"})},handleChange:function(e){var t=e.target.name,n=e.target.value;"amountSend"!==t&&"amountReceive"!==t&&"slippage"!==t||(n=n?parseFloat(n):""),s({type:"CHANGE_VALUE",payload:{name:t,value:n}})},loginFreighter:N,closeNotification:function(){s({type:"CLOSE_NOTIFICATION"})}})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,481)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root")),E()}},[[480,1,2]]]);
//# sourceMappingURL=main.b51307b3.chunk.js.map